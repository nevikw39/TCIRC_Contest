\documentclass[a4paper,10pt]{article}

\usepackage{amsfonts}
\usepackage{amsmath}

\usepackage{xeCJK}
\xeCJKsetup{CJKglue=\hspace{0pt plus .08 \baselineskip }}
\xeCJKsetup{RubberPunctSkip=false}
\xeCJKsetup{PunctStyle=plain}
\xeCJKsetup{CheckSingle=true}
\setCJKmainfont{Noto Serif CJK TC}[
	FontFace={el}{n}{* ExtraLight},
	FontFace={l}{n}{* Light},
	FontFace={m}{n}{* Medium},
	FontFace={sb}{n}{* SemiBold},
	FontFace={b}{n}{* Bold},
	FontFace={eb}{n}{* Black}
]
\setCJKsansfont{Noto Sans CJK TC}[
	FontFace={el}{n}{* Thin},
	FontFace={l}{n}{* Light},
	FontFace={sl}{n}{* DemiLight},
	FontFace={m}{n}{* Medium},
	FontFace={b}{n}{* Bold},
	FontFace={eb}{n}{* Black}
]
\setCJKmonofont{Noto Sans Mono CJK TC}[
	FontFace={b}{n}{* Bold}
]

\usepackage{xcolor}
\usepackage{listings}

\definecolor{sbase03}{HTML}{002B36}
\definecolor{sbase02}{HTML}{073642}
\definecolor{sbase01}{HTML}{586E75}
\definecolor{sbase00}{HTML}{657B83}
\definecolor{sbase0}{HTML}{839496}
\definecolor{sbase1}{HTML}{93A1A1}
\definecolor{sbase2}{HTML}{EEE8D5}
\definecolor{sbase3}{HTML}{FDF6E3}
\definecolor{syellow}{HTML}{B58900}
\definecolor{sorange}{HTML}{CB4B16}
\definecolor{sred}{HTML}{DC322F}
\definecolor{smagenta}{HTML}{D33682}
\definecolor{sviolet}{HTML}{6C71C4}
\definecolor{sblue}{HTML}{268BD2}
\definecolor{scyan}{HTML}{2AA198}
\definecolor{sgreen}{HTML}{859900}

\lstset{
    sensitive=true,
    frame=lines,
    xleftmargin=\parindent,
    belowcaptionskip=1\baselineskip,
    backgroundcolor=\color{sbase3},
    basicstyle=\color{sbase00}\ttfamily,
    keywordstyle=\color{scyan},
    commentstyle=\color{sbase1},
    stringstyle=\color{sblue},
    numberstyle=\color{sviolet},
    identifierstyle=\color{sbase00},
    breaklines=true,
    showstringspaces=false,
    tabsize=2
}

%opening
\title{\fontseries{b}一中電研 $\mathbf{37^{th}}$ 第二學期社內賽 \enspace {\huge\fontseries{eb}\selectfont 題目解析}}
\author{\fontshape{it}nevikw39}

\begin{document}

\maketitle

\begin{abstract}

\fontfamily{tt}

\end{abstract}

\section{旋轉矩陣}

\paragraph{關鍵} GCD, LCM

\subsection{題目}

電電寫數學考卷遇到這麼一題：令一矩陣 $A$ 表一平面上的線性變換 $\begin{pmatrix} \frac{-\sqrt{3}}{2} & \frac{-1}{2}\\ \frac{1}{2} & \frac{-\sqrt{3}}{2} \end{pmatrix}$，試問任一點 $P(x, y)$ 最少須經過多少次此變換後方回到原本的位置。

聰明的電電馬上想到 $A = \begin{pmatrix} \cos 150^{\circ} & -\sin 150^{\circ}\\ \sin 150^{\circ} & \cos 150^{\circ} \end{pmatrix} = R_{150^{\circ}}$ 即一個旋轉 150 度的變換，那麼只要旋轉成「一周角」的倍數就是旋轉一圈相當於沒有變換。因此，你的任務是幫電電計算最少旋轉幾次後回到原本的位置。

不過，電電國的角度單位有很多種，「一周角」並不總是 360 度。

\subsubsection{輸入}

兩個整數 $a, b$ 皆 $< 2^{31}$，分別代表旋轉矩陣的度數及「一周角」的度數。

\subsubsection{輸出}

請輸出最少旋轉幾次後回到原本的位置。

\subsection{解析}

本題怕太水所以故意把題目敘述打很複雜，但是真的是考數學得到的靈感 XDD

很顯然本題所求為 $lcm(a, b) / a = (a * b / gcd(a, b)) / a = b * gcd(a, b)$。

\subsection{參考程式碼}

\subsubsection{C++}

\lstinputlisting[language=C++]{rotate/rotate.cpp}

\subsubsection{Python}

\lstinputlisting[language=Python]{rotate/rotate.py}

\section{割草決戰}

\paragraph{關鍵} 條件

\subsection{題目}

由於 I4S$\circ$ 菸粉綠蛆韓黑網軍蟑螂及國家機器動得非常厲害，我們先總統　蔣公在世、人類的救星、世界的偉人、自由的燈塔、民族的長城、宇宙的征服者，百年一見的政治鬼才 --- 高譚市長韓總雞，遭遇地球文明史上最大的危機：罷免案。

依據《公職人員選舉罷免法》第 90 條：
\begin{quote}
罷免案投票結果，有效同意票數多於不同意票數，且同意票數達原選舉區選舉人總數四分之一以上，即為通過。
有效罷免票數中，不同意票數多於同意票數或同意票數不足前項規定數額者，均為否決。
\end{quote}


因為高譚市民非常非常多，有可能超過五百萬的五百萬倍，所以想請你幫忙寫個程式判斷罷免通過與否。

\subsubsection{輸入}

三整數 $n, a, b$ 分別代表全體選舉人總數，有效同意、不同意票數。$$0 \leq n < 2^{64}, 4 \times a < n, a + b \leq n$$

\subsubsection{輸出}

首先請就罷免結果，輸出 \texttt{!!666} 或 \texttt{QQ~~}。

接著請輸出「沉默不出來投票的韓粉」之人數。

\subsection{解析}

本題雖然就是個水題，但是有不少陷阱。

首先，由於 $n$ 的範圍 $2^{64}$ ，因此必須使用 \texttt{uint64\_t}。其次，同意票數需大於選舉人總數之四分之一，但須注意 C++ 的除法總是向零取整，假若寫成 \texttt{a >= n / 4} 則會存在誤差。

\subsection{參考程式碼}

\subsubsection{C++}

\lstinputlisting[language=C]{recall/recall.c}

\subsubsection{Python}

\lstinputlisting[language=Python]{recall/recall.py}

\section{病毒擴散 (pow)}

\paragraph{關鍵} 迴圈、（快速冪）

\subsection{題目}

很久很久以前，在遙遠的銀河系…\textit{(A long time ago in a galaxy far far away...)}

多久以前呢？？應該是於「雅汶戰役」前 2087 年 \textit{(2087 BBY)} 吧，在杳無人煙的帝國祕密基地、岩漿星球穆斯塔法\textit{(Mustafar)}發現惹一種冠狀病毒，\textsl{GHO} 銀河衛生組織將之暫時命名為 \textbf{87-nCoV}。

已知這種奇怪的病毒會不斷的自行分裂，現在給你此病毒每次分裂後的個數 $r$，求在 $t$ 個週期後病毒數量會變為原來的幾倍？？

\subsubsection{輸入}

輸入僅有一行，兩個整數 $r, t$ 以空白分隔，分別代表每一病毒每次分裂後的個數及經過多少週期。

\subsubsection{輸出}

輸出最後病毒數量變為原來的幾倍。因為答案或許很大，所以請對 $10^9+7$ 取模。

\subsection{解析}

本題分為兩個小題。

\begin{description}
    \item[70\%] $r < 1000000000, t < 10$ 在 \texttt{long} 內可以迴圈輕鬆解決。
    \item[30\%] $r < 1000000000, t < 1000000000$ \texttt{C++} 須自行實做快速冪，\texttt{Python} 若善用內建函式則秒殺。
\end{description}

\subsection{參考程式碼}

\subsubsection{C}

\lstinputlisting[language=C]{pow/pow.c}

\subsubsection{Python}

\lstinputlisting[language=Python]{pow/pow.py}

\section{二次曲線美化 (conic)}

\paragraph{關鍵} 迴圈、條件

\subsection{題目}

電電最近學到二次曲線，在電腦上打惹許多二次曲線的一般式 ($ax^2 \pm bxy \pm cy^2 \pm dx \pm ey \pm f; a, b, c, d, e, f \in \mathbb{N}$)。可是寫的時候因為很趕很隨意，導致式子擠在一起很不方便閱讀，因此想請你寫個程式幫他美化重新排版。

排版的規則如下：
\begin{enumerate}
 \item 各項必須依照降冪及字典順序出現
 \item 指數應當出現在 \textit{caret} 字元 `\enspace\textbf{\^}' 後方
 \item 常數項就只有常數
 \item 唯具有非零係數的項可以出現，除非每項係數皆為 $0$，則常數項可以出現
 \item 空格僅在二元運算子 $\mathbf{+}$ ---加--- 和 $\mathbf{-}$ ---減--- 的兩側出現
 \item 若領導係數為正則毋需性質符號，反之應輸出一負號
 \item 負項被視為減去正項，首項例外
 \item 係數 $\pm1$ 只有在常數項出現
\end{enumerate}

\subsubsection{輸入}

輸入僅有一行，六個整數 $a, b, c, d, e, f$ 以空白分隔，分別代表該二次曲線之各項。

\subsubsection{輸出}

輸出符合規則的二次多項式。

\subsection{解析}

本題是個比較複雜的條件判斷水題，沒有任何技巧，就是需要耐心而已。

\subsection{參考程式碼}

\subsubsection{C}

\lstinputlisting[language=C++]{conic/conic.cpp}

\subsubsection{Python}

\lstinputlisting[language=Python]{conic/conic.py}

\section{數字朗讀 (num)}

\paragraph{關鍵} 迴圈、遞迴

\subsection{題目}

電電欲令電腦朗讀出數字，他現在已經有英文轉語音 \textit{(TTS)} 的 \textit{API} 

在英文中與中文不同，差兩次以上的位數並不需要「零」或 ``end'' （比賽結束後你可以請 Google 小姐念給你聽）。此外，正式的寫法如支票，並不會用 ``a hundred'' 等等而應該是 ``one hundred''。

\subsubsection{輸入}

僅有一整數 $n < 2^{31}$。

\subsubsection{輸出}

$n$ 在英文的念法。

\subsection{解析}

\subsection{參考程式碼}

\subsubsection{C++}

\lstinputlisting[language=C++]{num/num.cpp}

\subsubsection{Python}

\lstinputlisting[language=Python]{num/num.py}

\end{document}
